# 
msgid ""
msgstr ""
"Project-Id-Version: Apache Traffic Server 4.1\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-11-08 17:57+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../admin/working-log-files.en.rst:4
msgid "Working with Log Files"
msgstr ""

#: ../../admin/working-log-files.en.rst:24
msgid ""
"Traffic Server generates log files that contain information about every "
"request it receives and every error it detects."
msgstr ""

#: ../../admin/working-log-files.en.rst:27
msgid "This chapter discusses the following topics:"
msgstr ""

#: ../../admin/working-log-files.en.rst:37
msgid "Understanding Traffic Server Log Files"
msgstr ""

#: ../../admin/working-log-files.en.rst:39
msgid ""
"Traffic Server records information about every transaction (or request) it "
"processes and every error it detects in log files. Traffic Server keeps "
"three types of log files:"
msgstr ""

#: ../../admin/working-log-files.en.rst:43
msgid ""
"**Error log files** record information about why a particular transaction "
"was in error."
msgstr ""

#: ../../admin/working-log-files.en.rst:46
msgid ""
"**Event log files** (also called **access log files**) record information "
"about the state of each transaction Traffic Server processes."
msgstr ""

#: ../../admin/working-log-files.en.rst:50
msgid ""
"**System log files** record system information, including messages about the"
" state of Traffic Server and errors/warnings it produces. This kind of "
"information might include a note that event log files were rolled, a warning"
" that cluster communication timed out, or an error indicating that Traffic "
"Server was restarted."
msgstr ""

#: ../../admin/working-log-files.en.rst:56
msgid ""
"All system information messages are logged with the system-wide logging "
"facility :manpage:`syslog` under the daemon facility. The "
":manpage:`syslog.conf(5)` configuration file (stored in the ``/etc`` "
"directory) specifies where these messages are logged. A typical location is "
"``/var/log/messages`` (Linux)."
msgstr ""

#: ../../admin/working-log-files.en.rst:62
msgid ""
"The :manpage:`syslog(8)` process works on a system-wide basis, so it serves "
"as the single repository for messages from all Traffic Server processes "
"(including :program:`traffic_server`, :program:`traffic_manager`, and "
":program:`traffic_cop`)."
msgstr ""

#: ../../admin/working-log-files.en.rst:67
msgid ""
"System information logs observe a static format. Each log entry in the log "
"contains information about the date and time the error was logged, the "
"hostname of the Traffic Server that reported the error, and a description of"
" the error or warning."
msgstr ""

#: ../../admin/working-log-files.en.rst:72
msgid ""
"Refer to :ref:`traffic-server-error-messages` for a list of the messages "
"logged by Traffic Server."
msgstr ""

#: ../../admin/working-log-files.en.rst:75
msgid ""
"By default, Traffic Server creates both error and event log files and "
"records system information in system log files. You can disable event "
"logging and/or error logging by setting the configuration variable "
":ts:cv:`proxy.config.log.logging_enabled` (in the :file:`records.config` "
"file) to one of the following values:"
msgstr ""

#: ../../admin/working-log-files.en.rst:81
msgid "``0`` to disable both event and error logging"
msgstr ""

#: ../../admin/working-log-files.en.rst:82
msgid "``1`` to enable error logging only"
msgstr ""

#: ../../admin/working-log-files.en.rst:83
msgid "``2`` to enable transaction logging only"
msgstr ""

#: ../../admin/working-log-files.en.rst:84
msgid "``3`` to enable both transaction and error logging"
msgstr ""

#: ../../admin/working-log-files.en.rst:87
msgid "Understanding Event Log Files"
msgstr ""

#: ../../admin/working-log-files.en.rst:89
msgid ""
"Event log files record information about every request that Traffic Server "
"processes. By analyzing the log files, you can determine how many people use"
" the Traffic Server cache, how much information each person requested, what "
"pages are most popular, and so on. Traffic Server supports several standard "
"log file formats, such as Squid and Netscape, as well as user-defined custom"
" formats. You can analyze the standard format log files with off-the-shelf "
"analysis packages. To help with log file analysis, you can separate log "
"files so they contain information specific to protocol or hosts. You can "
"also configure Traffic Server to roll log files automatically at specific "
"intervals during the day or when they reach a certain size."
msgstr ""

#: ../../admin/working-log-files.en.rst:101
msgid ""
"The following sections describe the Traffic Server logging system features "
"and discuss how to:"
msgstr ""

#: ../../admin/working-log-files.en.rst:104
msgid "**Manage your event log files**"
msgstr ""

#: ../../admin/working-log-files.en.rst:106
msgid ""
"You can choose a central location for storing log files, set how much disk "
"space to use for log files, and set how and when to roll log files. Refer to"
" `Managing Event Log Files`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:110
msgid "**Choose different event log file formats**"
msgstr ""

#: ../../admin/working-log-files.en.rst:112
msgid ""
"You can choose which standard log file formats you want to use for traffic "
"analysis, such as Squid or Netscape. Alternatively, you can use the Traffic "
"Server custom format, which is XML-based and enables you to institute more "
"control over the type of information recorded in log files. Refer to "
"`Choosing Event Log File Formats`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:118
msgid "**Roll event log files automatically**"
msgstr ""

#: ../../admin/working-log-files.en.rst:120
msgid ""
"Configure Traffic Server to roll event log files at specific intervals "
"during the day or when they reach a certain size; this enables you to "
"identify and manipulate log files that are no longer active. Refer to "
"`Rolling Event Log Files`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:125
msgid "**Separate log files according to protocols and hosts**"
msgstr ""

#: ../../admin/working-log-files.en.rst:127
msgid ""
"Configure Traffic Server to create separate log files for different "
"protocols. You can also configure Traffic Server to generate separate log "
"files for requests served by different hosts. Refer to `Splitting Event Log "
"Files`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:131
msgid "**Collate log files from different Traffic Server nodes**"
msgstr ""

#: ../../admin/working-log-files.en.rst:133
msgid ""
"Designate one or more nodes on the network to serve as log collation "
"servers. These servers, which might be standalone or part of Traffic Server,"
" enable you to keep all logged information in well-defined locations. Refer "
"to `Collating Event Log Files`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:138
msgid "**View statistics about the logging system**"
msgstr ""

#: ../../admin/working-log-files.en.rst:140
msgid ""
"Traffic Server provides statistics about the logging system; you can access "
"these statistics via Traffic Line. Refer to `Viewing Logging Statistics`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:143
msgid "**Interpret log file entries for the log file formats**"
msgstr ""

#: ../../admin/working-log-files.en.rst:145
msgid "Refer to `Example Event Log File Entries`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:148
msgid "Managing Event Log Files"
msgstr ""

#: ../../admin/working-log-files.en.rst:150
msgid ""
"Traffic Server enables you to control where event log files are located and "
"how much space they can consume. Additionally you can specify how to handle "
"low disk space in the logging directory."
msgstr ""

#: ../../admin/working-log-files.en.rst:155
msgid "Choosing the Logging Directory"
msgstr ""

#: ../../admin/working-log-files.en.rst:157
msgid ""
"By default, Traffic Server writes all event log files in the ``logs`` "
"directory located in the directory where you installed Traffic Server. To "
"use a different directory, refer to `Setting Log File Management Options`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:162
msgid "Controlling Logging Space"
msgstr ""

#: ../../admin/working-log-files.en.rst:164
msgid ""
"Traffic Server enables you to control the amount of disk space that the "
"logging directory can consume. This allows the system to operate smoothly "
"within a specified space window for a long period of time. After you "
"establish a space limit, Traffic Server continues to monitor the space in "
"the logging directory. When the free space dwindles to the headroom limit "
"(see `Setting Log File Management Options`_), it enters a low space state "
"and takes the following actions:"
msgstr ""

#: ../../admin/working-log-files.en.rst:172
msgid ""
"If the autodelete option (discussed in `Rolling Event Log Files`_) is "
"*enabled*, then Traffic Server identifies previously-rolled log files (i.e.,"
" log files with the ``.old`` extension). It starts deleting files one by "
"one, beginning with the oldest file, until it emerges from the low state. "
"Traffic Server logs a record of all deleted files in the system error log."
msgstr ""

#: ../../admin/working-log-files.en.rst:179
msgid ""
"If the autodelete option is *disabled* or there are not enough old log files"
" to delete for the system to emerge from its low space state, then Traffic "
"Server issues a warning and continues logging until space is exhausted. When"
" available space is consumed, event logging stops. Traffic Server resumes "
"event logging when enough space becomes available for it to exit the low "
"space state. To make space available, either explicitly increase the logging"
" space limit or remove files from the logging directory manually."
msgstr ""

#: ../../admin/working-log-files.en.rst:188
msgid ""
"You can run a :manpage:`cron(8)` script in conjunction with Traffic Server "
"to automatically remove old log files from the logging directory before "
"Traffic Server enters the low space state. Relocate the old log files to a "
"temporary partition, where you can run a variety of log analysis scripts. "
"Following analysis, either compress the logs and move to an archive "
"location, or simply delete them."
msgstr ""

#: ../../admin/working-log-files.en.rst:199
msgid "Setting Log File Management Options"
msgstr ""

#: ../../admin/working-log-files.en.rst:201
msgid "To set log management options, follow the steps below:"
msgstr ""

#: ../../admin/working-log-files.en.rst:203
#: ../../admin/working-log-files.en.rst:238
#: ../../admin/working-log-files.en.rst:576
#: ../../admin/working-log-files.en.rst:660
msgid "In the :file:`records.config` file, edit the following variables"
msgstr ""

#: ../../admin/working-log-files.en.rst:205
#: ../../admin/working-log-files.en.rst:808
msgid ":ts:cv:`proxy.config.log.logfile_dir`"
msgstr ""

#: ../../admin/working-log-files.en.rst:206
msgid ":ts:cv:`proxy.config.log.max_space_mb_for_logs`"
msgstr ""

#: ../../admin/working-log-files.en.rst:207
msgid ":ts:cv:`proxy.config.log.max_space_mb_headroom`"
msgstr ""

#: ../../admin/working-log-files.en.rst:209
#: ../../admin/working-log-files.en.rst:267
#: ../../admin/working-log-files.en.rst:583
#: ../../admin/working-log-files.en.rst:665
#: ../../admin/working-log-files.en.rst:696
#: ../../admin/working-log-files.en.rst:767
#: ../../admin/working-log-files.en.rst:834
msgid ""
"Run the command :option:`traffic_line -x` to apply the configuration "
"changes."
msgstr ""

#: ../../admin/working-log-files.en.rst:213
msgid "Choosing Event Log File Formats"
msgstr ""

#: ../../admin/working-log-files.en.rst:215
msgid "Traffic Server supports the following log file formats:"
msgstr ""

#: ../../admin/working-log-files.en.rst:217
msgid ""
"Standard formats, such as Squid or Netscape; refer to `Using Standard "
"Formats`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:218
msgid "The Traffic Server custom format; refer to `Using the Custom Format`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:220
msgid ""
"In addition to the standard and custom log file format, you can choose "
"whether to save log files in binary or ASCII; refer to `Choosing Binary or "
"ASCII`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:223
msgid ""
"Event log files consume substantial disk space. Creating log entries in "
"multiple formats at the same time can consume disk resources very quickly "
"and adversely impact Traffic Server performance."
msgstr ""

#: ../../admin/working-log-files.en.rst:228
msgid "Using Standard Formats"
msgstr ""

#: ../../admin/working-log-files.en.rst:230
msgid ""
"The standard log formats include Squid, Netscape Common, Netscape extended, "
"and Netscape Extended-2. The standard log file formats can be analyzed with "
"a wide variety of off-the-shelf log-analysis packages. You should use one of"
" the standard event log formats unless you need information that these "
"formats do not provide. Refer to `Using the Custom Format`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:236
msgid "Set standard log file format options by following the steps below:"
msgstr ""

#: ../../admin/working-log-files.en.rst:239
msgid "Edit the following variables to use the Squid format:"
msgstr ""

#: ../../admin/working-log-files.en.rst:241
msgid ":ts:cv:`proxy.config.log.squid_log_enabled`"
msgstr ""

#: ../../admin/working-log-files.en.rst:242
msgid ":ts:cv:`proxy.config.log.squid_log_is_ascii`"
msgstr ""

#: ../../admin/working-log-files.en.rst:243
msgid ":ts:cv:`proxy.config.log.squid_log_name`"
msgstr ""

#: ../../admin/working-log-files.en.rst:244
msgid ":ts:cv:`proxy.config.log.squid_log_header`"
msgstr ""

#: ../../admin/working-log-files.en.rst:246
msgid "To use the Netscape Common format, edit the following variables:"
msgstr ""

#: ../../admin/working-log-files.en.rst:248
msgid ":ts:cv:`proxy.config.log.common_log_enabled`"
msgstr ""

#: ../../admin/working-log-files.en.rst:249
msgid ":ts:cv:`proxy.config.log.common_log_is_ascii`"
msgstr ""

#: ../../admin/working-log-files.en.rst:250
msgid ":ts:cv:`proxy.config.log.common_log_name`"
msgstr ""

#: ../../admin/working-log-files.en.rst:251
msgid ":ts:cv:`proxy.config.log.common_log_header`"
msgstr ""

#: ../../admin/working-log-files.en.rst:253
msgid "To use the Netscape Extended format, edit the following variables:"
msgstr ""

#: ../../admin/working-log-files.en.rst:255
msgid ":ts:cv:`proxy.config.log.extended_log_enabled`"
msgstr ""

#: ../../admin/working-log-files.en.rst:256
msgid ":ts:cv:`proxy.config.log.extended_log_is_ascii`"
msgstr ""

#: ../../admin/working-log-files.en.rst:257
msgid ":ts:cv:`proxy.config.log.extended_log_name`"
msgstr ""

#: ../../admin/working-log-files.en.rst:258
msgid ":ts:cv:`proxy.config.log.extended_log_header`"
msgstr ""

#: ../../admin/working-log-files.en.rst:260
msgid "To use the Netscape Extended-2 format, edit the following variables:"
msgstr ""

#: ../../admin/working-log-files.en.rst:262
msgid ":ts:cv:`proxy.config.log.extended2_log_enabled`"
msgstr ""

#: ../../admin/working-log-files.en.rst:263
msgid ":ts:cv:`proxy.config.log.extended2_log_is_ascii`"
msgstr ""

#: ../../admin/working-log-files.en.rst:264
msgid ":ts:cv:`proxy.config.log.extended2_log_name`"
msgstr ""

#: ../../admin/working-log-files.en.rst:265
msgid ":ts:cv:`proxy.config.log.extended2_log_header`"
msgstr ""

#: ../../admin/working-log-files.en.rst:275
msgid "Using the Custom Format"
msgstr ""

#: ../../admin/working-log-files.en.rst:277
msgid ""
"The XML-based custom log format is more flexible then the standard log file "
"formats and gives you more control over the type of information recorded in "
"log files. You should create a custom log format if you need data for "
"analysis that's not available in the standard formats. You can decide what "
"information to record for each Traffic Server transaction and create filters"
" that specify which transactions to log."
msgstr ""

#: ../../admin/working-log-files.en.rst:284
msgid ""
"The heart of the XML-based custom logging feature is the XML-based logging "
"configuration file (:file:`logs_xml.config`) that enables you to create very"
" modular descriptions of logging objects. The :file:`logs_xml.config` file "
"uses three types of objects to create custom log files, as detailed below. "
"To generate a custom log format, you must specify at least one ``LogObject``"
" definition (one log file is produced for each ``LogObject`` definition)."
msgstr ""

#: ../../admin/working-log-files.en.rst:292
msgid ""
"The ``LogFormat`` object defines the content of the log file using printf-"
"style format strings."
msgstr ""

#: ../../admin/working-log-files.en.rst:294
msgid ""
"The ``LogFilter`` object defines a filter so that you include or exclude "
"certain information from the log file."
msgstr ""

#: ../../admin/working-log-files.en.rst:296
msgid ""
"The ``LogObject`` object specifies all the information needed to produce a "
"log file."
msgstr ""

#: ../../admin/working-log-files.en.rst:299
msgid "The name of the log file. (required)"
msgstr ""

#: ../../admin/working-log-files.en.rst:300
msgid ""
"The format to be used (required). This can be a standard format (Squid or "
"Netscape) or"
msgstr ""

#: ../../admin/working-log-files.en.rst:302
msgid ""
"a previously-defined custom format (i.e., a previously-defined ``LogFormat``"
" object)."
msgstr ""

#: ../../admin/working-log-files.en.rst:304
msgid ""
"The file mode: ``ASCII``, ``Binary``, or ``ASCII_PIPE``. The default is "
"``ASCII``. The ``ASCII_PIPE`` mode writes log entries to a UNIX-named pipe "
"(a buffer in memory); other processes can then read the data using standard "
"I/O functions. The advantage of this option is that Traffic Server does not "
"have to write to disk, which frees disk space and bandwidth for other tasks."
" When the buffer is full, Traffic Server drops log entries and issues an "
"error message indicating how many entries were dropped. Because Traffic "
"Server only writes complete log entries to the pipe, only full records are "
"dropped."
msgstr ""

#: ../../admin/working-log-files.en.rst:315
msgid ""
"Any filters you want to use (i.e., previously-defined ``LogFilter`` "
"objects)."
msgstr ""

#: ../../admin/working-log-files.en.rst:317
msgid "The collation servers that are to receive the log files."
msgstr ""

#: ../../admin/working-log-files.en.rst:318
msgid ""
"The protocols you want to log. If the protocols tag is used, then Traffic "
"Server will only log transactions from the protocols listed; otherwise, all "
"transactions for all protocols are logged."
msgstr ""

#: ../../admin/working-log-files.en.rst:321
msgid ""
"The origin servers you want to log. If the ``servers`` tag is used, then "
"Traffic Server will only log transactions for the origin servers listed; "
"otherwise, transactions for all origin servers are logged."
msgstr ""

#: ../../admin/working-log-files.en.rst:325
msgid ""
"The header text you want the log files to contain. The header text appears "
"at the beginning of the log file, just before the first record."
msgstr ""

#: ../../admin/working-log-files.en.rst:328
msgid "The log file rolling options."
msgstr ""

#: ../../admin/working-log-files.en.rst:330
msgid "In order to accomplish this, we"
msgstr ""

#: ../../admin/working-log-files.en.rst:332
msgid "edit the following variables in the :file:`records.config` file:"
msgstr ""

#: ../../admin/working-log-files.en.rst:334
msgid ":ts:cv:`proxy.config.log.custom_logs_enabled`"
msgstr ""

#: ../../admin/working-log-files.en.rst:335
msgid "In the :file:`logs_xml.config` file"
msgstr ""

#: ../../admin/working-log-files.en.rst:337
msgid ""
"Add :ref:`LogFormat`, :ref:`LogFilters`, and :ref:`LogObject` specifications"
" to the configuration file."
msgstr ""

#: ../../admin/working-log-files.en.rst:339
msgid "Save and close the :file:`logs_xml.config` file."
msgstr ""

#: ../../admin/working-log-files.en.rst:340
msgid ""
"Run the command :option:`traffic_line -x` to apply your configuration "
"changes."
msgstr ""

#: ../../admin/working-log-files.en.rst:344
msgid "Creating Summary Log Files"
msgstr ""

#: ../../admin/working-log-files.en.rst:346
msgid ""
"Traffic Server performs several hundred operations per second; therefore, "
"event log files can quickly grow to large sizes. Using SQL-like aggregate "
"operators, you can configure Traffic Server to create summary log files that"
" summarize a set of log entries over a specified period of time. This can "
"significantly reduce the size of the log files generated."
msgstr ""

#: ../../admin/working-log-files.en.rst:353
msgid ""
"To generate a summary log file, create a :ref:`LogFormat` object in the XML-"
"based logging configuration file (:file:`logs_xml.config`) using the SQL-"
"like aggregate operators below. You can apply each of these operators to "
"specific fields, over a specified interval."
msgstr ""

#: ../../admin/working-log-files.en.rst:359
msgid "``COUNT``"
msgstr ""

#: ../../admin/working-log-files.en.rst:360
msgid "``SUM``"
msgstr ""

#: ../../admin/working-log-files.en.rst:361
msgid "``AVERAGE``"
msgstr ""

#: ../../admin/working-log-files.en.rst:362
msgid "``FIRST``"
msgstr ""

#: ../../admin/working-log-files.en.rst:363
msgid "``LAST``"
msgstr ""

#: ../../admin/working-log-files.en.rst:365
msgid "To create a summary log file format, we"
msgstr ""

#: ../../admin/working-log-files.en.rst:367
msgid ""
"Define the format of the log file in :file:`logs_xml.config` as follows:"
msgstr ""

#: ../../admin/working-log-files.en.rst:380
msgid ""
"where ``operator`` is one of the five aggregate operators (``COUNT``, "
"``SUM``, ``AVERAGE``, ``FIRST``, ``LAST``), ``field`` is the logging field "
"you want to aggregate, and ``n`` is the interval (in seconds) between "
"summary log entries. You can specify more than one ``operator`` in the "
"format line. For more information, refer to :file`logs_xml.config`."
msgstr ""

#: ../../admin/working-log-files.en.rst:387
msgid ""
"Run the command :option:`traffic_line -x` to apply configuration changes ."
msgstr ""

#: ../../admin/working-log-files.en.rst:389
msgid ""
"The following example format generates one entry every 10 seconds. Each "
"entry contains the timestamp of the last entry of the interval, a count of "
"the number of entries seen within that 10-second interval, and the sum of "
"all bytes sent to the client: ::"
msgstr ""

#: ../../admin/working-log-files.en.rst:402
msgid ""
"You cannot create a format specification that contains both aggregate "
"operators and regular fields. For example, the following specification would"
" be **invalid**: ::"
msgstr ""

#: ../../admin/working-log-files.en.rst:409
msgid "Choosing Binary or ASCII"
msgstr ""

#: ../../admin/working-log-files.en.rst:411
msgid ""
"You can configure Traffic Server to create event log files in either of the "
"following:"
msgstr ""

#: ../../admin/working-log-files.en.rst:414
msgid "**ASCII**"
msgstr ""

#: ../../admin/working-log-files.en.rst:416
msgid ""
"These files are human-readable and can be processed using standard, off-the-"
"shelf log analysis tools. However, Traffic Server must perform additional "
"processing to create the files in ASCII, which mildly impacts system "
"overhead. ASCII files also tend to be larger than the equivalent binary "
"files. By default, ASCII log files have a ``.log`` filename extension."
msgstr ""

#: ../../admin/working-log-files.en.rst:423
msgid "**Binary**"
msgstr ""

#: ../../admin/working-log-files.en.rst:425
msgid ""
"These files generate lower system overhead and generally occupy less space "
"on the disk than ASCII files (depending on the type of information being "
"logged). However, you must use a converter application before you can read "
"or analyze binary files via standard tools. By default, binary log files use"
" a ``.blog`` filename extension."
msgstr ""

#: ../../admin/working-log-files.en.rst:432
msgid ""
"While binary log files typically require less disk space, there are "
"exceptions."
msgstr ""

#: ../../admin/working-log-files.en.rst:435
msgid ""
"For example: the value ``0`` (zero) requires only one byte to store in "
"ASCII, but requires four bytes when stored as a binary integer. Conversely: "
"if you define a custom format that logs IP addresses, then a binary log file"
" would only require four bytes of storage per 32-bit address. However, the "
"same IP address stored in dot notation would require around 15 characters "
"(bytes) in an ASCII log file. Therefore, it's wise to consider the type of "
"data that will be logged before you select ASCII or binary for your log "
"files. For example, you might try logging for one day using ASCII and then "
"another day using binary. If the number of requests is roughly the same for "
"both days, then you can calculate a rough metric that compares the two "
"formats."
msgstr ""

#: ../../admin/working-log-files.en.rst:447
msgid ""
"For standard log formats, select Binary or ASCII (refer to `Setting Standard"
" Log File Format Options`). For the custom log format, specify ASCII or "
"Binary mode in the :ref:`LogObject` (refer to :ref:`Using the Custom Format "
"<using-custom-log-formats>`). In addition to the ASCII and binary options, "
"you can also write custom log entries to a UNIX-named pipe (i.e., a buffer "
"in memory). Other processes can then read the data using standard I/O "
"functions. The advantage of using this option is that Traffic Server does "
"not have to write to disk, which frees disk space and bandwidth for other "
"tasks. In addition, writing to a pipe does not stop when logging space is "
"exhausted because the pipe does not use disk space. Refer to "
":file:`logs_xml.config` for more information about the ``ASCII_PIPE`` "
"option."
msgstr ""

#: ../../admin/working-log-files.en.rst:463
msgid "Rolling Event Log Files"
msgstr ""

#: ../../admin/working-log-files.en.rst:465
msgid ""
"Traffic Server provides automatic log file rolling. This means that at "
"specific intervals during the day or when log files reach a certain size, "
"Traffic Server closes its current set of log files and opens new log files. "
"Depending on the amount of traffic your servers are exposed to, you should "
"roll log files several times a day. Rolling every six hours is a good "
"guideline to start with."
msgstr ""

#: ../../admin/working-log-files.en.rst:472
msgid "Log file rolling offers the following benefits:"
msgstr ""

#: ../../admin/working-log-files.en.rst:474
msgid "It defines an interval over which log analysis can be performed."
msgstr ""

#: ../../admin/working-log-files.en.rst:475
msgid ""
"It keeps any single log file from becoming too large and helps to keep the "
"logging system within the specified space limits."
msgstr ""

#: ../../admin/working-log-files.en.rst:477
msgid ""
"It provides an easy way to identify files that are no longer being used so "
"that an automated script can clean the logging directory and run log "
"analysis programs."
msgstr ""

#: ../../admin/working-log-files.en.rst:482
msgid "Rolled Log Filename Format"
msgstr ""

#: ../../admin/working-log-files.en.rst:484
msgid ""
"Traffic Server provides a consistent naming scheme for rolled log files that"
" enables you to easily identify log files. When Traffic Server rolls a log "
"file, it saves and closes the old file before it starts a new file. Traffic "
"Server renames the old file to include the following information:"
msgstr ""

#: ../../admin/working-log-files.en.rst:490
msgid "The format of the file (such as ``squid.log``)."
msgstr ""

#: ../../admin/working-log-files.en.rst:491
msgid "The hostname of the Traffic Server that generated the log file."
msgstr ""

#: ../../admin/working-log-files.en.rst:492
msgid ""
"Two timestamps separated by a hyphen (``-``). The first timestamp is a "
"**lower bound** for the timestamp of the first record in the log file. The "
"lower bound is the time when the new buffer for log records is created. "
"Under low load, the first timestamp in the filename can be different from "
"the timestamp of the first entry. Under normal load, the first timestamp in "
"the filename and the timestamp of the first entry are similar. The second "
"timestamp is an **upper bound** for the timestamp of the last record in the "
"log file (this is normally the rolling time)."
msgstr ""

#: ../../admin/working-log-files.en.rst:501
msgid ""
"The suffix ``.old``, which makes it easy for automated scripts to find "
"rolled log files."
msgstr ""

#: ../../admin/working-log-files.en.rst:504
msgid "Timestamps have the following format: ::"
msgstr ""

#: ../../admin/working-log-files.en.rst:508
msgid "The following table describes the format:"
msgstr ""

#: ../../admin/working-log-files.en.rst:511
msgid "``%Y``"
msgstr ""

#: ../../admin/working-log-files.en.rst:511
msgid "The year in four-digit format. For example: 2000."
msgstr ""

#: ../../admin/working-log-files.en.rst:514
#: ../../admin/working-log-files.en.rst:523
msgid "``%M``"
msgstr ""

#: ../../admin/working-log-files.en.rst:514
msgid "The month in two-digit format, from 01-12. For example: 07."
msgstr ""

#: ../../admin/working-log-files.en.rst:517
msgid "``%D``"
msgstr ""

#: ../../admin/working-log-files.en.rst:517
msgid "The day in two-digit format, from 01-31. For example: 19."
msgstr ""

#: ../../admin/working-log-files.en.rst:520
msgid "``%H``"
msgstr ""

#: ../../admin/working-log-files.en.rst:520
msgid "The hour in two-digit format, from 00-23. For example: 21."
msgstr ""

#: ../../admin/working-log-files.en.rst:523
msgid "The minute in two-digit format, from 00-59. For example: 52."
msgstr ""

#: ../../admin/working-log-files.en.rst:526
msgid "``%S``"
msgstr ""

#: ../../admin/working-log-files.en.rst:526
msgid "The second in two-digit format, from 00-59. For example: 36."
msgstr ""

#: ../../admin/working-log-files.en.rst:528
msgid "The following is an example of a rolled log filename: ::"
msgstr ""

#: ../../admin/working-log-files.en.rst:532
msgid ""
"The logging system buffers log records before writing them to disk. When a "
"log file is rolled, the log buffer might be partially full. If it is, then "
"the first entry in the new log file will have a timestamp earlier than the "
"time of rolling. When the new log file is rolled, its first timestamp will "
"be a lower bound for the timestamp of the first entry."
msgstr ""

#: ../../admin/working-log-files.en.rst:538
msgid ""
"For example, suppose logs are rolled every three hours, and the first rolled"
" log file is: ::"
msgstr ""

#: ../../admin/working-log-files.en.rst:543
msgid ""
"If the lower bound for the first entry in the log buffer at 3:00:00 is "
"2:59:47, then the next log file will have the following timestamp when "
"rolled: ::"
msgstr ""

#: ../../admin/working-log-files.en.rst:549
msgid ""
"The contents of a log file are always between the two timestamps. Log files "
"do not contain overlapping entries, even if successive timestamps appear to "
"overlap."
msgstr ""

#: ../../admin/working-log-files.en.rst:554
msgid "Rolling Intervals"
msgstr ""

#: ../../admin/working-log-files.en.rst:556
msgid ""
"Log files are rolled at specific intervals relative to a given hour of the "
"day. Two options control when log files are rolled:"
msgstr ""

#: ../../admin/working-log-files.en.rst:559
msgid "The offset hour, which is an hour between 0 (midnight) and 23"
msgstr ""

#: ../../admin/working-log-files.en.rst:560
msgid "The rolling interval"
msgstr ""

#: ../../admin/working-log-files.en.rst:562
msgid ""
"Both the offset hour and the rolling interval determine when log file "
"rolling starts. Rolling occurs every rolling interval and at the offset "
"hour. For example, if the rolling interval is six hours and the offset hour "
"is 0 (midnight), then the logs will roll at midnight (00:00), 06:00, 12:00, "
"and 18:00 each day. If the rolling interval is 12 hours and the offset hour "
"is 3, then logs will roll at 03:00 and 15:00 each day."
msgstr ""

#: ../../admin/working-log-files.en.rst:571
msgid "Setting Log File Rolling Options"
msgstr ""

#: ../../admin/working-log-files.en.rst:573
msgid ""
"To set log file rolling options and/or configure Traffic Server to roll log "
"files when they reach a certain size, follow the steps below:"
msgstr ""

#: ../../admin/working-log-files.en.rst:578
msgid ":ts:cv:`proxy.config.log.rolling_enabled`"
msgstr ""

#: ../../admin/working-log-files.en.rst:579
msgid ":ts:cv:`proxy.config.log.rolling_size_mb`"
msgstr ""

#: ../../admin/working-log-files.en.rst:580
msgid ":ts:cv:`proxy.config.log.rolling_offset_hr`"
msgstr ""

#: ../../admin/working-log-files.en.rst:581
msgid ":ts:cv:`proxy.config.log.rolling_interval_sec`"
msgstr ""

#: ../../admin/working-log-files.en.rst:586
msgid ""
"You can fine-tune log file rolling settings for a custom log file in the "
":ref:`LogObject` specification in the :file:`logs_xml.config` file. The "
"custom log file uses the rolling settings in its :ref:`LogObject`, which "
"override the default settings you specify in Traffic Manager or the "
":file:`records.config` file described above."
msgstr ""

#: ../../admin/working-log-files.en.rst:596
msgid "Splitting Event Log Files"
msgstr ""

#: ../../admin/working-log-files.en.rst:598
msgid ""
"By default, Traffic Server uses standard log formats and generates log files"
" that contain HTTP & ICP transactions in the same file. However, you can "
"enable log splitting if you prefer to log transactions for different "
"protocols in separate log files."
msgstr ""

#: ../../admin/working-log-files.en.rst:604
msgid "ICP Log Splitting"
msgstr ""

#: ../../admin/working-log-files.en.rst:606
msgid ""
"When ICP log splitting is enabled, Traffic Server records ICP transactions "
"in a separate log file with a name that contains ``icp``. For example: if "
"you enable the Squid format, then all ICP transactions are recorded in the "
"``squid-icp.log`` file. When you disable ICP log splitting, Traffic Server "
"records all ICP transactions in the same log file as HTTP transactions."
msgstr ""

#: ../../admin/working-log-files.en.rst:614
msgid "HTTP Host Log Splitting"
msgstr ""

#: ../../admin/working-log-files.en.rst:616
msgid ""
"HTTP host log splitting enables you to record HTTP transactions for "
"different origin servers in separate log files. When HTTP host log splitting"
" is enabled, Traffic Server creates a separate log file for each origin "
"server that's listed in the :file:`log_hosts.config` file. When both ICP and"
" HTTP host log splitting are enabled, Traffic Server generates separate log "
"files for HTTP transactions (based on the origin server) and places all ICP "
"transactions in their own respective log files. For example, if the "
":file:`log_hosts.config` file contains the two origin servers ``uni.edu`` "
"and ``company.com`` and Squid format is enabled, then Traffic Server "
"generates the following log files:"
msgstr ""

#: ../../admin/working-log-files.en.rst:628
#: ../../admin/working-log-files.en.rst:644
msgid "``squid-uni.edu.log``"
msgstr ""

#: ../../admin/working-log-files.en.rst:628
msgid "All HTTP transactions for ``uni.edu``"
msgstr ""

#: ../../admin/working-log-files.en.rst:631
#: ../../admin/working-log-files.en.rst:647
msgid "``squid-company.com.log``"
msgstr ""

#: ../../admin/working-log-files.en.rst:631
msgid "All HTTP transactions for ``company.com``"
msgstr ""

#: ../../admin/working-log-files.en.rst:634
msgid "``squid-icp.log``"
msgstr ""

#: ../../admin/working-log-files.en.rst:634
msgid "All ICP transactions for all hosts"
msgstr ""

#: ../../admin/working-log-files.en.rst:637
#: ../../admin/working-log-files.en.rst:650
msgid "``squid.log``"
msgstr ""

#: ../../admin/working-log-files.en.rst:637
msgid "All HTTP transactions for other hosts"
msgstr ""

#: ../../admin/working-log-files.en.rst:639
msgid ""
"If you disable ICP log splitting, then ICP transactions are placed in the "
"same log file as HTTP transactions. Using the hosts and log format from the "
"previous example, Traffic Server generates the log files below:"
msgstr ""

#: ../../admin/working-log-files.en.rst:644
msgid "All entries for ``uni.edu``"
msgstr ""

#: ../../admin/working-log-files.en.rst:647
msgid "All entries for ``company.com``"
msgstr ""

#: ../../admin/working-log-files.en.rst:650
msgid "All other entries"
msgstr ""

#: ../../admin/working-log-files.en.rst:652
msgid ""
"Traffic Server also enables you to create XML-based :ref:`Custom Log Formats"
" <using-custom-log-formats>` that offer even greater control over log file "
"generation."
msgstr ""

#: ../../admin/working-log-files.en.rst:656
msgid "Setting Log Splitting Options"
msgstr ""

#: ../../admin/working-log-files.en.rst:658
msgid "To set log splitting options, follow the steps below:"
msgstr ""

#: ../../admin/working-log-files.en.rst:662
msgid ":ts:cv:`proxy.config.log.separate_icp_logs`"
msgstr ""

#: ../../admin/working-log-files.en.rst:663
msgid ":ts:cv:`proxy.config.log.separate_host_logs`"
msgstr ""

#: ../../admin/working-log-files.en.rst:669
msgid "Editing the log_hosts.config File"
msgstr ""

#: ../../admin/working-log-files.en.rst:671
msgid ""
"The default :file:`log_hosts.config` file is located in the Traffic Server "
"``config`` directory. To record HTTP transactions for different origin "
"servers in separate log files, you must specify the hostname of each origin "
"server on a separate line in the :file:`log_hosts.config` file. For example,"
" if you specify the keyword sports, then Traffic Server records all HTTP "
"transactions from ``sports.yahoo.com`` and ``www.foxsports.com`` in a log "
"file called ``squid-sports.log`` (if the Squid format is enabled)."
msgstr ""

#: ../../admin/working-log-files.en.rst:682
msgid ""
"If Traffic Server is clustered and you enable log file collation, then you "
"should use the same :file:`log_hosts.config` file on every Traffic Server "
"node in the cluster."
msgstr ""

#: ../../admin/working-log-files.en.rst:686
msgid "To edit the :file:`log_hosts.config` file follow the steps below:"
msgstr ""

#: ../../admin/working-log-files.en.rst:688
msgid ""
"In the :file:`log_hosts.config` file, enter the hostname of each origin "
"server on a separate line in the file, e.g.: ::"
msgstr ""

#: ../../admin/working-log-files.en.rst:700
msgid "Collating Event Log Files"
msgstr ""

#: ../../admin/working-log-files.en.rst:702
msgid ""
"You can use the Traffic Server log file collation feature to collect all "
"logged information in one place. Log collation enables you to analyze a set "
"of Traffic Server clustered nodes as a whole (rather than as individual "
"nodes) and to use a large disk that might only be located on one of the "
"nodes in the cluster. Traffic Server collates log files by using one or more"
" nodes as log collation servers and all remaining nodes as log collation "
"clients. When a Traffic Server node generates a buffer of event log entries,"
" it first determines if it is the collation server or a collation client. "
"The collation server node writes all log buffers to its local disk, just as "
"it would if log collation was not enabled. Log collation servers can be "
"standalone or they can be part of a node running Traffic Server."
msgstr ""

#: ../../admin/working-log-files.en.rst:715
msgid ""
"The collation client nodes prepare their log buffers for transfer across the"
" network and send the buffers to the log collation server. When the log "
"collation server receives a log buffer from a client, it writes it to its "
"own log file as if it was generated locally. For a visual representation of "
"this, see the figure below."
msgstr ""

#: ../../admin/working-log-files.en.rst:725
msgid "Log collation"
msgstr ""

#: ../../admin/working-log-files.en.rst:727
msgid ""
"If log clients cannot contact their log collation server, then they write "
"their log buffers to their local disks, into *orphan* log files. Orphan log "
"files require manual collation."
msgstr ""

#: ../../admin/working-log-files.en.rst:733
msgid ""
"Log collation can have an impact on network performance. Because all nodes "
"are forwarding their log data buffers to the single collation server, a "
"bottleneck can occur. In addition, collated log files contain timestamp "
"information for each entry, but entries in the files do not appear in strict"
" chronological order. You may want to sort collated log files before doing "
"analysis."
msgstr ""

#: ../../admin/working-log-files.en.rst:740
msgid ""
"To configure Traffic Server to collate event log files, you must perform the"
" following tasks:"
msgstr ""

#: ../../admin/working-log-files.en.rst:743
msgid ""
"Either `Configure Traffic Server Node to Be a Collation Server <Configuring "
"Traffic Server to Be a Collation Server>`_ or install & configure a "
"`Standalone Collator <Using a Standalone Collator>`_"
msgstr ""

#: ../../admin/working-log-files.en.rst:746
msgid ""
"`Configure Traffic Server Nodes to Be a Collation Clients <Configuring "
"Traffic Server to Be a Collation Server>`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:748
msgid ""
"Add an attribute to the :ref:`LogObject` specification in the "
":file:`logs_xml.config` file if you are using custom log file formats; refer"
" to `Collating Custom Event Log Files`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:756
msgid "Configuring Traffic Server to Be a Collation Server"
msgstr ""

#: ../../admin/working-log-files.en.rst:758
msgid ""
"To configure a Traffic Server node to be a collation server, simply edit a "
"configuration file via the steps below."
msgstr ""

#: ../../admin/working-log-files.en.rst:761
msgid "In the :file:`records.config`  file, edit the following variables"
msgstr ""

#: ../../admin/working-log-files.en.rst:763
msgid ":ts:cv:`proxy.local.log.collation_mode` (``1`` for server mode)"
msgstr ""

#: ../../admin/working-log-files.en.rst:764
#: ../../admin/working-log-files.en.rst:829
msgid ":ts:cv:`proxy.config.log.collation_port`"
msgstr ""

#: ../../admin/working-log-files.en.rst:765
#: ../../admin/working-log-files.en.rst:830
msgid ":ts:cv:`proxy.config.log.collation_secret`"
msgstr ""

#: ../../admin/working-log-files.en.rst:772
msgid ""
"If you modify the ``collation_port`` or ``secret`` after connections between"
" the collation server and collation clients have been established, then you "
"must restart Traffic Server."
msgstr ""

#: ../../admin/working-log-files.en.rst:777
msgid "Using a Standalone Collator"
msgstr ""

#: ../../admin/working-log-files.en.rst:779
msgid ""
"If you do not want the log collation server to be a Traffic Server node, "
"then you can install and configure a standalone collator (SAC) that will "
"dedicate more of its power to collecting, processing, and writing log files."
msgstr ""

#: ../../admin/working-log-files.en.rst:784
msgid "To install and configure a standalone collator:"
msgstr ""

#: ../../admin/working-log-files.en.rst:786
msgid ""
"Configure your Traffic Server nodes as log collation clients; refer to "
"`Configuring Traffic Server to Be a Collation Client "
"<#ConfiguringTSCollationClient>`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:789
msgid ""
"Copy the :program:`traffic_sac` binary from the Traffic Server ``bin`` "
"directory and"
msgstr ""

#: ../../admin/working-log-files.en.rst:791
msgid ""
"Copy the ``libtsutil.so`` libraries from the Traffic Server ``lib`` "
"directory to the machine serving as the standalone collator."
msgstr ""

#: ../../admin/working-log-files.en.rst:793
msgid ""
"Create a directory called ``config`` in the directory that contains the "
":program:`traffic_sac` binary."
msgstr ""

#: ../../admin/working-log-files.en.rst:795
msgid ""
"Create a directory called ``internal`` in the ``config`` directory you "
"created in Step 4 (above). This directory is used internally by the "
"standalone collator to store lock files."
msgstr ""

#: ../../admin/working-log-files.en.rst:798
msgid ""
"Copy the :file:`records.config` file from a Traffic Server node configured "
"to be a log collation client to the ``config`` directory you created in Step"
" 4 on the standalone collator. The :file:`records.config` file contains the "
"log collation secret and the port you specified when configuring Traffic "
"Server nodes to be collation clients. The collation port and secret must be "
"the same for all collation clients and servers."
msgstr ""

#: ../../admin/working-log-files.en.rst:805
msgid "In the :file:`records.config` file, edit the following variable"
msgstr ""

#: ../../admin/working-log-files.en.rst:810
msgid "Enter the following command::"
msgstr ""

#: ../../admin/working-log-files.en.rst:815
msgid "Configuring Traffic Server to Be a Collation Client"
msgstr ""

#: ../../admin/working-log-files.en.rst:817
msgid ""
"To configure a Traffic Server node to be a collation client, follow the "
"steps below. If you modify the ``collation_port`` or ``secret`` after "
"connections between the collation clients and the collation server have been"
" established, then you must restart Traffic Server."
msgstr ""

#: ../../admin/working-log-files.en.rst:822
msgid "In the :file:`records.config` file, edit the following variables:"
msgstr ""

#: ../../admin/working-log-files.en.rst:824
msgid ""
":ts:cv:`proxy.local.log.collation_mode`: ``2`` to configure this node as log"
" collation client and send standard formatted log entries to the collation "
"server. For XML-based formatted log entries, see :file:`logs_xml.config` "
"file; refer to :ref:`Using the Custom Format <using-custom-log-formats>`."
msgstr ""

#: ../../admin/working-log-files.en.rst:828
msgid ":ts:cv:`proxy.config.log.collation_host`"
msgstr ""

#: ../../admin/working-log-files.en.rst:831
msgid ":ts:cv:`proxy.config.log.collation_host_tagged`"
msgstr ""

#: ../../admin/working-log-files.en.rst:832
msgid ":ts:cv:`proxy.config.log.max_space_mb_for_orphan_logs`"
msgstr ""

#: ../../admin/working-log-files.en.rst:838
msgid "Collating Custom Event Log Files"
msgstr ""

#: ../../admin/working-log-files.en.rst:840
msgid ""
"If you use custom event log files, then you must edit the "
":file:`logs_xml.config` file (in addition to configuring a collation server "
"and collation clients)."
msgstr ""

#: ../../admin/working-log-files.en.rst:844
msgid "To collate custom event log files"
msgstr ""

#: ../../admin/working-log-files.en.rst:846
msgid "On each collation client, edit the `:file:`logs_xml.config`"
msgstr ""

#: ../../admin/working-log-files.en.rst:847
msgid ""
"Add the :ref:`CollationHost <logs-xml-logobject-collationhost>` attribute to"
" the :ref:`LogObject` specification: ::"
msgstr ""

#: ../../admin/working-log-files.en.rst:858
msgid ""
"where ``ipaddress`` is the hostname or IP address of the collation server to"
" which all log entries (for this object) are forwarded, and ``port`` is the "
"port number for communication between the collation server and collation "
"clients."
msgstr ""

#: ../../admin/working-log-files.en.rst:863
msgid ""
"Run the command :option:`traffic_line -L` to restart Traffic Server on the "
"local node or :option:`traffic_line -M` to restart Traffic Server on all the"
" nodes in a cluster."
msgstr ""

#: ../../admin/working-log-files.en.rst:868
msgid "Viewing Logging Statistics"
msgstr ""

#: ../../admin/working-log-files.en.rst:870
msgid ""
"Traffic Server generates logging statistics that enable you to see the "
"following information:"
msgstr ""

#: ../../admin/working-log-files.en.rst:873
msgid "How many log files (formats) are currently being written."
msgstr ""

#: ../../admin/working-log-files.en.rst:874
msgid ""
"The current amount of space used by the logging directory, which contains "
"all event and error logs."
msgstr ""

#: ../../admin/working-log-files.en.rst:876
msgid ""
"The number of access events written to log files since Traffic Server "
"installation. This counter represents one entry in one file; if multiple "
"formats are being written, then a single event creates multiple event log "
"entries."
msgstr ""

#: ../../admin/working-log-files.en.rst:880
msgid ""
"The number of access events skipped (because they were filtered) since "
"Traffic Server installation."
msgstr ""

#: ../../admin/working-log-files.en.rst:882
msgid ""
"The number of access events written to the event error log since Traffic "
"Server installation."
msgstr ""

#: ../../admin/working-log-files.en.rst:885
msgid ""
"You can retrieve the statistics via the Traffic Line command-line interface;"
" refer to `Monitoring Traffic <../monitoring-traffic>`_."
msgstr ""

#: ../../admin/working-log-files.en.rst:889
msgid "Viewing Log Files"
msgstr ""

#: ../../admin/working-log-files.en.rst:891
msgid ""
"You can view the system, event, and error log files Traffic Server creates. "
"You can also delete a log file or copy it to your local system if you have "
"the correct user permissions. Traffic Server displays only one MB of "
"information in the log file. If the log file you select to view is bigger "
"than 1MB, then Traffic Server truncates the file and displays a warning "
"message indicating that the file is too big."
msgstr ""

#: ../../admin/working-log-files.en.rst:899
msgid "Online Event Log XML Builder"
msgstr ""

#: ../../admin/working-log-files.en.rst:901
msgid ""
"If you need any assistance building your event log, you can try out our "
"`online log builder <http://trafficserver.apache.org/logbuilder/>`_. This is"
" a work in progress, so any comments, critique or suggestions are most "
"welcome."
msgstr ""
