add_library(inknet STATIC
        ALPNSupport.cc
        BIO_fastopen.cc
        BoringSSLUtils.cc
        Connection.cc
        Inline.cc
        YamlSNIConfig.cc
        Net.cc
        NetVConnection.cc
        ProxyProtocol.cc
        Socks.cc
        SSLCertLookup.cc
        SSLClientCoordinator.cc
        SSLClientUtils.cc
        SSLConfig.cc
        SSLSecret.cc
        SSLDiags.cc
        SSLInternal.cc
        SSLNetAccept.cc
        SSLNetProcessor.cc
        SSLNetVConnection.cc
        SSLNextProtocolAccept.cc
        SSLNextProtocolSet.cc
        SSLSNIConfig.cc
        SSLStats.cc
        SSLSessionCache.cc
        SSLSessionTicket.cc
        SSLUtils.cc
        OCSPStapling.cc
        TLSBasicSupport.cc
        TLSEarlyDataSupport.cc
        TLSKeyLogger.cc
        TLSSessionResumptionSupport.cc
        TLSSNISupport.cc
        TLSTunnelSupport.cc
        UDPIOEvent.cc
        UnixConnection.cc
        UnixNet.cc
        UnixNetAccept.cc
        UnixNetPages.cc
        UnixNetProcessor.cc
        UnixNetVConnection.cc
        UnixUDPConnection.cc
        UnixUDPNet.cc
        SSLDynlock.cc
)
target_link_libraries(inknet inkevent records_p)
target_include_directories(inknet PRIVATE
        ${CMAKE_SOURCE_DIR}/iocore/eventsystem
        ${CMAKE_SOURCE_DIR}/iocore/dns
        ${CMAKE_SOURCE_DIR}/iocore/aio
        ${CMAKE_SOURCE_DIR}/iocore/net
        ${CMAKE_SOURCE_DIR}/iocore/cache
        ${CMAKE_SOURCE_DIR}/iocore/hostdb
        ${CMAKE_SOURCE_DIR}/proxy
        ${CMAKE_SOURCE_DIR}/proxy/hdrs
        ${CMAKE_SOURCE_DIR}/proxy/shared
        ${CMAKE_SOURCE_DIR}/proxy/http
        ${CMAKE_SOURCE_DIR}/mgmt
        ${CMAKE_SOURCE_DIR}/mgmt/utils
        ${OPENSSL_INCLUDE_DIRS}
        ${YAML_INCLUDE_DIRS}
)